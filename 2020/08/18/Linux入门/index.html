<!DOCTYPE html>
<html lang="zh-CH">





<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="光说不做假把式">
  <meta name="author" content="杨玉杰">
  <meta name="keywords" content="">
  <title>Linux入门 - 杨玉杰|个人博客</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    <link  rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.0.0/styles/agate.min.css" />
  

  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_yg9cfy8wd6.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_pjno9b9zyxs.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


<meta name="generator" content="Hexo 4.2.1"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>杨玉杰|个人博客</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                主页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                友情链接
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="view intro-2" id="background" parallax=true
         style="background: url('/img/bgi.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="container text-center white-text fadeInUp">
            <span class="h2" id="subtitle">
              
            </span>

            
              
  <div class="mt-3 post-meta">
    <i class="iconfont icon-date-fill" aria-hidden="true"></i>
    <time datetime="2020-08-18 20:24">
      August 18, 2020 pm
    </time>
  </div>


<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      3.3k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      38
       分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5" id="board">
          <div class="post-content mx-auto" id="post">
            
            <article class="markdown-body">
              <h1 id="一、常用操作以及概念"><a href="#一、常用操作以及概念" class="headerlink" title="一、常用操作以及概念"></a>一、常用操作以及概念</h1><h2 id="快捷键"><a href="#快捷键" class="headerlink" title="快捷键"></a>快捷键</h2><ul>
<li>Tab：命令和文件名补全；</li>
<li>Ctrl+C：中断正在运行的程序；</li>
<li>Ctrl+D：结束键盘输入</li>
</ul>
<h2 id="求助"><a href="#求助" class="headerlink" title="求助"></a>求助</h2><h3 id="1-help"><a href="#1-help" class="headerlink" title="1. help"></a>1. help</h3><p>指令的基本用法与选项介绍</p>
<h3 id="2-man"><a href="#2-man" class="headerlink" title="2. man"></a>2. man</h3><p>man是manual的缩写，将指令的具体信息显示出来，当执行man date时，有DATE(1)出现，其中的数字代表指令的类型，常用的数字及其类型如下：<br><img src="https://img-blog.csdnimg.cn/20200818171226705.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3NzMzMg==,size_16,color_FFFFFF,t_70#pic_center" srcset="/img/loading.gif" alt="在这里插入图片描述"></p>
<h3 id="3-info"><a href="#3-info" class="headerlink" title="3. info"></a>3. info</h3><p>info与man类似，但info将文档分成一个个页面，每个页面可以进行跳转。</p>
<h3 id="4-doc"><a href="#4-doc" class="headerlink" title="4. doc"></a>4. doc</h3><p><code>/usr/share/doc</code>存放着软件的一整套说明文件。</p>
<h2 id="关机"><a href="#关机" class="headerlink" title="关机"></a>关机</h2><h3 id="1-who"><a href="#1-who" class="headerlink" title="1. who"></a>1. who</h3><p>在关机前需要先使用who命令查看有没有其他用户在线。</p>
<h3 id="2-sync"><a href="#2-sync" class="headerlink" title="2. sync"></a>2. sync</h3><p>为了加快对磁盘文件的读写速度，位于内存中的文件数据不会立即同步到磁盘，因此关机之前需要先进行sync同步操作。</p>
<h3 id="3-shutdown"><a href="#3-shutdown" class="headerlink" title="3. shutdown"></a>3. shutdown</h3><ul>
<li>-k：不会关机，只是发送警告信息，通知所有在线的用户；</li>
<li>-r：将系统的服务停掉后就重新启动；</li>
<li>-h：将系统的服务停掉后就立即关机；</li>
<li>-c：取消已经在进行的shutdown指令内容。</li>
</ul>
<h2 id="PATH"><a href="#PATH" class="headerlink" title="PATH"></a>PATH</h2><p>可以在环境变量 PATH 中声明可执行文件的路径，路径之间用<code>:</code> 分隔。</p>
<h2 id="sudo"><a href="#sudo" class="headerlink" title="sudo"></a>sudo</h2><p>sudo 允许一般用户使用 root 可执行的命令，不过只有在<code>/etc/sudoers</code>配置文件中添加的用户才能使用该指令。 </p>
<h2 id="Vim三个模式"><a href="#Vim三个模式" class="headerlink" title="Vim三个模式"></a>Vim三个模式</h2><ul>
<li>一般指令模式（Command mode）：VIM 的默认模式，可以用于移动游标查看内容； </li>
<li>编辑模式（Insert mode）：按下<code>i</code>等按键之后进入，可以对文本进行编辑； </li>
<li>指令列模式（Bottom-line mode）：按下<code>:</code>按键之后进入，用于保存退出等操作。</li>
</ul>
<p>在指令列模式下，有以下命令用于离开或者保存文件。<br><img src="https://img-blog.csdnimg.cn/20200818173232109.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3NzMzMg==,size_16,color_FFFFFF,t_70#pic_center" srcset="/img/loading.gif" alt="在这里插入图片描述"></p>
<h1 id="二、文件"><a href="#二、文件" class="headerlink" title="二、文件"></a>二、文件</h1><h2 id="文件属性"><a href="#文件属性" class="headerlink" title="文件属性"></a>文件属性</h2><p>用户分为三种：文件拥有者、群组以及其他用户，对不同的用户有不同的文件权限。<br>使用<code>IS</code>查看一个文件时，会显示一个文件的信息，例如：<code>drwxr-xr-x 3 root root 17 May 6 00:14 .config</code> ，对这个信息的解释如下：</p>
<ul>
<li>drwxr-xr-x：文件类型以及权限，第 1 位为文件类型字段，后 9 位为文件权限字段 </li>
<li>3：链接数 </li>
<li>root：文件拥有者 </li>
<li>root：所属群组 </li>
<li>17：文件大小 </li>
<li>May 6 00:14：文件后被修改的时间 </li>
<li>.conﬁg：文件名</li>
</ul>
<p>常见的文件类型及其含义有：</p>
<ul>
<li>d：目录</li>
<li>-：文件</li>
<li>l：链接文件</li>
</ul>
<p>9 位的文件权限字段中，每 3 个为一组，共 3 组，每一组分别代表对文件拥有者、所属群组以及其它用户的文件权限。 一组权限中的 3 位分别为 r、w、x 权限，表示可读、可写、可执行。<br>文件时间有以下三种：</p>
<ul>
<li>modiﬁcation time (mtime)：文件的内容更新就会更新； </li>
<li>status time (ctime)：文件的状态（权限、属性）更新就会更新；</li>
<li>access time (atime)：读取文件时就会更新。</li>
</ul>
<h2 id="文件与目录的基本操作"><a href="#文件与目录的基本操作" class="headerlink" title="文件与目录的基本操作"></a>文件与目录的基本操作</h2><h3 id="1-Is：列出文件或目录的信息，目录的信息就是其中包含的文件。"><a href="#1-Is：列出文件或目录的信息，目录的信息就是其中包含的文件。" class="headerlink" title="1. Is：列出文件或目录的信息，目录的信息就是其中包含的文件。"></a>1. Is：列出文件或目录的信息，目录的信息就是其中包含的文件。</h3><ul>
<li>-a：列出全部的文件</li>
<li>-d：仅列出目录本身</li>
<li>-l：以长数据串列出，包含文件的属性与权限等数据</li>
</ul>
<h3 id="2-cd：更换当前目录"><a href="#2-cd：更换当前目录" class="headerlink" title="2. cd：更换当前目录"></a>2. cd：更换当前目录</h3><h3 id="3-mkdir：创建目录"><a href="#3-mkdir：创建目录" class="headerlink" title="3. mkdir：创建目录"></a>3. mkdir：创建目录</h3><ul>
<li>-m：配置目录权限</li>
<li>-p：递归创建目录</li>
</ul>
<h3 id="4-rmdir：删除目录，目录必须为空"><a href="#4-rmdir：删除目录，目录必须为空" class="headerlink" title="4. rmdir：删除目录，目录必须为空"></a>4. rmdir：删除目录，目录必须为空</h3><ul>
<li>-p：递归删除目录</li>
</ul>
<h3 id="5-touch：更新文件时间或建立新文件"><a href="#5-touch：更新文件时间或建立新文件" class="headerlink" title="5. touch：更新文件时间或建立新文件"></a>5. touch：更新文件时间或建立新文件</h3><ul>
<li>-a ： 更新 atime </li>
<li>-c ： 更新 ctime，若该文件不存在则不建立新文件 </li>
<li>-m ： 更新 mtime </li>
<li>-d ： 后面可以接更新日期而不使用当前日期，也可以使用 –date=”日期或时间” </li>
<li>-t ： 后面可以接更新时间而不使用当前时间，格式为[YYYYMMDDhhmm] </li>
</ul>
<h3 id="6-cp：复制文件"><a href="#6-cp：复制文件" class="headerlink" title="6. cp：复制文件"></a>6. cp：复制文件</h3><p>如果源文件有两个以上，则目的文件一定要是目录才行</p>
<ul>
<li>-a ：相当于 -dr –preserve=all 的意思，至于 dr 请参考下列说明 </li>
<li>-d ：若来源文件为链接文件，则复制链接文件属性而非文件本身 </li>
<li>-i ：若目标文件已经存在时，在覆盖前会先询问 </li>
<li>-p ：连同文件的属性一起复制过去 </li>
<li>-r ：递归持续复制 </li>
<li>-u ：destination 比 source 旧才更新 destination，或 destination 不存在的情况下才复制</li>
<li>–preserve=all ：除了 -p 的权限相关参数外，还加入 SELinux 的属性, links, xattr 等也复制了 </li>
</ul>
<h3 id="7-rm-：删除文件。"><a href="#7-rm-：删除文件。" class="headerlink" title="7. rm ：删除文件。"></a>7. rm ：删除文件。</h3><ul>
<li>-r ：递归删除 <h3 id="8-mv-：移动文件。"><a href="#8-mv-：移动文件。" class="headerlink" title="8. mv ：移动文件。"></a>8. mv ：移动文件。</h3></li>
<li># mv [-fiu] source destination </li>
<li># mv [options] source1 source2 source3 …. directory </li>
<li>-f ： force 强制的意思，如果目标文件已经存在，不会询问而直接覆盖</li>
</ul>
<h3 id="9-两台Linux服务器相互拷贝文件"><a href="#9-两台Linux服务器相互拷贝文件" class="headerlink" title="9.两台Linux服务器相互拷贝文件"></a>9.两台Linux服务器相互拷贝文件</h3><div class="hljs"><pre><code class="hljs linux">scp[参数][原路径][目标路径]</code></pre></div>

<p>scp是secure copy的缩写，scp是linux系统下基于ssh登录进行安全的远程文件拷贝命令。</p>
<p>参数有：</p>
<ul>
<li>-1：强制scp命令使用协议ssh1</li>
<li>-2：强制scp命令使用协议ssh2</li>
<li>-4：强制scp命令只使用ipv4寻址</li>
<li>-6：强制scp命令只使用ipv6寻址</li>
<li>-B  使用批处理模式（传输过程中不询问传输口令或短语）  </li>
<li>-C  允许压缩。（将-C标志传递给ssh，从而打开压缩功能）  </li>
<li>-p 保留原文件的修改时间，访问时间和访问权限。 </li>
<li>-q  不显示传输进度条。  </li>
<li>-r  递归复制整个目录。  </li>
<li>-v 详细方式显示输出。scp和ssh(1)会显示出整个过程的调试信息。这些信息用于调试连接，验证和配置问题。   </li>
</ul>
<h2 id="修改权限"><a href="#修改权限" class="headerlink" title="修改权限"></a>修改权限</h2><p>可以将一组权限用数字来表示，此时一组权限的3个位当做二进制数字的位，从左到右每个位的权值为4、2、1，即每个权限对应的数字权值为r：4，w：2，x：1。<br>示例：将 .bashrc 文件的权限修改为 -rwx-xr-r-。 </p>
<div class="hljs"><pre><code class="hljs shell">chmod 754 .bashrc</code></pre></div>

<p>也可以使用符号来设定权限。</p>
<ul>
<li>u：拥有者 </li>
<li>g：所属群组 </li>
<li>o：其他人 </li>
<li>a：所有人 </li>
<li>+：添加权限 </li>
<li>-：移除权限 </li>
<li>=：设定权限 </li>
</ul>
<p>示例：为 .bashrc 文件的所有用户添加写权限。</p>
<div class="hljs"><pre><code class="hljs shell">chmod a+w .bashrc</code></pre></div>
<h2 id="文件默认权限"><a href="#文件默认权限" class="headerlink" title="文件默认权限"></a>文件默认权限</h2><p>文件默认是没有可执行权限，因此为666，目录必须要能够进入，也就是必须拥有可执行权限，因此为777。</p>
<h2 id="获取文件内容"><a href="#获取文件内容" class="headerlink" title="获取文件内容"></a>获取文件内容</h2><ul>
<li>cat：取得文件内容</li>
<li>tac：是cat的反向操作，从后一行开始打印</li>
<li>more：它可以一页一页查看文件内容，比较适合大文件的查看</li>
<li>less：和more类似，但是多了一个向前翻页的功能</li>
<li>head：取得文件前几页</li>
<li>tail：是head的反向操作，只是取得的是后几行</li>
<li>od：以字符或者十六进制的形式显示二进制文件 </li>
</ul>
<h1 id="六、压缩与打包"><a href="#六、压缩与打包" class="headerlink" title="六、压缩与打包"></a>六、压缩与打包</h1><h2 id="压缩文件名"><a href="#压缩文件名" class="headerlink" title="压缩文件名"></a>压缩文件名</h2><p>Linux 底下有很多压缩文件名，常见的如下：<br><img src="https://img-blog.csdnimg.cn/20200818193707681.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3NzMzMg==,size_16,color_FFFFFF,t_70#pic_center" srcset="/img/loading.gif" alt="在这里插入图片描述"></p>
<h2 id="压缩指令"><a href="#压缩指令" class="headerlink" title="压缩指令"></a>压缩指令</h2><h3 id="1-gzip"><a href="#1-gzip" class="headerlink" title="1. gzip"></a>1. gzip</h3><p>gzip 是 Linux 使用广的压缩指令，可以解开 compress、zip 与 gzip 所压缩的文件。<br>经过 gzip 压缩过，源文件就不存在了。 有 9 个不同的压缩等级可以使用。 可以使用 zcat、zmore、zless 来读取压缩文件的内容。</p>
<ul>
<li>$ gzip [-cdtv#] filename</li>
<li>-c ：将压缩的数据输出到屏幕上 </li>
<li>-d ：解压缩 -t ：检验压缩文件是否出错 </li>
<li>-v ：显示压缩比等信息 </li>
<li>-# ： # 为数字的意思，代表压缩等级，数字越大压缩比越高，默认为 6 <h3 id="2-bzip2"><a href="#2-bzip2" class="headerlink" title="2. bzip2"></a>2. bzip2</h3>提供比 gzip 更高的压缩比。 查看命令：bzcat、bzmore、bzless、bzgrep。</li>
<li>$ bzip2 [-cdkzv#] filename</li>
<li>-k ：保留源文件</li>
</ul>
<h3 id="3-xz"><a href="#3-xz" class="headerlink" title="3. xz"></a>3. xz</h3><p>提供比 bzip2 更佳的压缩比。<br>可以看到，gzip、bzip2、xz 的压缩比不断优化。不过要注意的是，<strong>压缩比越高，压缩的时间也越长</strong>。 查看命令：xzcat、xzmore、xzless、xzgrep。</p>
<div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> xz [-dtlkc<span class="hljs-comment">#] filename</span></span></code></pre></div>
<h2 id="打包"><a href="#打包" class="headerlink" title="打包"></a>打包</h2><p>压缩指令只能对一个文件进行压缩，而打包能够将多个文件打包成一个大文件。tar 不仅可以用于打包，也可以使用 gzip、bzip2、xz 将打包文件进行压缩。</p>
<ul>
<li>$ tar [-z|-j|-J] [cv] [-f 新建的 tar 文件] filename…  ==打包压缩</li>
<li>$ tar [-z|-j|-J] [tv] [-f 已有的 tar 文件]              ==查看</li>
<li>$ tar [-z|-j|-J] [xv] [-f 已有的 tar 文件] [-C 目录]    ==解压缩</li>
<li>-z ：使用 zip；</li>
<li>-j ：使用 bzip2；</li>
<li>-J ：使用 xz；</li>
<li>-c ：新建打包文件；</li>
<li>-t ：查看打包文件里面有哪些文件；</li>
<li>-x ：解打包或解压缩的功能；</li>
<li>-v ：在压缩/解压缩的过程中，显示正在处理的文件名；</li>
<li>-f : filename：要处理的文件；</li>
<li>-C 目录 ： 在特定目录解压缩。<br><img src="https://img-blog.csdnimg.cn/2020081819505488.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3NzMzMg==,size_16,color_FFFFFF,t_70#pic_center" srcset="/img/loading.gif" alt="在这里插入图片描述"><h1 id="七、正则表达式"><a href="#七、正则表达式" class="headerlink" title="七、正则表达式"></a>七、正则表达式</h1><h2 id="grep"><a href="#grep" class="headerlink" title="grep"></a>grep</h2>grep（globally search a regular expression and print)，使用正则表示式进行全局查找并打印。<ul>
<li>$ grep [-acinv] [–color=auto] 搜寻字符串 filename </li>
<li>-c ： 统计个数 </li>
<li>-i ： 忽略大小写</li>
<li>-n ： 输出行号 </li>
<li>-v ： 反向选择，也就是显示出没有 搜寻字符串 内容的那一行 </li>
<li>–color=auto ：找到的关键字加颜色显示 </li>
</ul>
</li>
</ul>
<p>示例：把含有 the 字符串的行提取出来（注意默认会有 –color=auto 选项，因此以下内容在 Linux 中有颜色显示 the 字符串）</p>
<div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> grep -n <span class="hljs-string">'the'</span> regular_express.txt </span>
8:I can't finish the test. 
12:the symbol '*' is represented as start. 
15:You are the best is mean you are the no. 1. 
16:The world Happy is the same with "glad". 
18:google is the best tools for search keyword</code></pre></div>
<p>因为<code>{</code> 和 <code>}</code>在 shell 是有特殊意义的，因此必须要使用转义字符进行转义。</p>
<div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> grep -n <span class="hljs-string">'go\&#123;2,5\&#125;g'</span> regular_express.txt</span></code></pre></div>
<h2 id="printf"><a href="#printf" class="headerlink" title="printf"></a>printf</h2><p>用于格式化输出。它不属于管道命令，在给 printf 传数据时需要使用<code>$( )</code> 形式。</p>
<div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">printf</span> <span class="hljs-string">'%10s %5i %5i %5i %8.2f \n'</span> $(cat printf.txt)     </span>
DmTsai    80    60    92    77.33     
VBird    75    55    80    70.00        
Ken    60    90    70    73.33</code></pre></div>
<h2 id="awk"><a href="#awk" class="headerlink" title="awk"></a>awk</h2><p>是由 Alfred Aho，Peter Weinberger, 和 Brian Kernighan 创造，awk 这个名字就是这三个创始人名字的首字母。 awk 每次处理一行，处理的小单位是字段，每个字段的命名方式为：$n，n 为字段号，从 1 开始，$0 表示一整行。<br>示例：取出近五个登录用户的用户名和 IP</p>
<div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> last -n 5 </span>
dmtsai pts/0 192.168.1.100 Tue Jul 14 17:32 still logged in 
dmtsai pts/0 192.168.1.100 Thu Jul 9 23:36 - 02:58 (03:22) 
dmtsai pts/0 192.168.1.100 Thu Jul 9 17:23 - 23:36 (06:12) 
dmtsai pts/0 192.168.1.100 Thu Jul 9 08:02 - 08:17 (00:14) 
dmtsai tty1 Fri May 29 11:55 - 12:11 (00:15)</code></pre></div>

<div class="hljs"><pre><code class="hljs powershell"><span class="hljs-variable">$</span> last <span class="hljs-literal">-n</span> <span class="hljs-number">5</span> | awk <span class="hljs-string">'&#123;print $1 "\t" $3&#125;'</span></code></pre></div>

<p>可以根据字段的某些条件进行匹配，例如匹配字段小于某个值的那一行数据。<br>$ awk ‘条件类型 1 {动作 1} 条件类型 2 {动作 2} …’ filename<br>示例：/etc/passwd 文件第三个字段为 UID，对 UID 小于 10 的数据进行处理。</p>
<div class="hljs"><pre><code class="hljs powershell"><span class="hljs-variable">$</span> cat /etc/passwd | awk <span class="hljs-string">'BEGIN &#123;FS=":"&#125; $3 &lt; 10 &#123;print $1 "\t " $3&#125;'</span> root <span class="hljs-number">0</span> bin <span class="hljs-number">1</span> daemon <span class="hljs-number">2</span></code></pre></div>

<p>awk 变量：<img src="https://img-blog.csdnimg.cn/20200818200447426.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3NzMzMg==,size_16,color_FFFFFF,t_70#pic_center" srcset="/img/loading.gif" alt="在这里插入图片描述"><br>示例：显示正在处理的行号以及每一行有多少字段</p>
<div class="hljs"><pre><code class="hljs powershell"><span class="hljs-variable">$</span> last <span class="hljs-literal">-n</span> <span class="hljs-number">5</span> | awk <span class="hljs-string">'&#123;print $1 "\t lines: " NR "\t columns: " NF&#125;'</span> 
dmtsai lines: <span class="hljs-number">1</span> columns: <span class="hljs-number">10</span> dmtsai lines: <span class="hljs-number">2</span> columns: <span class="hljs-number">10</span> 
dmtsai lines: <span class="hljs-number">3</span> columns: <span class="hljs-number">10</span> dmtsai lines: <span class="hljs-number">4</span> columns: <span class="hljs-number">10</span> 
dmtsai lines: <span class="hljs-number">5</span> columns: <span class="hljs-number">9</span></code></pre></div>
<h1 id="八、进程管理"><a href="#八、进程管理" class="headerlink" title="八、进程管理"></a>八、进程管理</h1><h2 id="查看进程"><a href="#查看进程" class="headerlink" title="查看进程"></a>查看进程</h2><h3 id="1-ps"><a href="#1-ps" class="headerlink" title="1. ps"></a>1. ps</h3><p>查看某个时间点的进程信息<br>示例一：查看自己的进程</p>
<div class="hljs"><pre><code class="hljs powershell"><span class="hljs-comment"># ps -l</span></code></pre></div>

<p>示例二：查看系统所有进程</p>
<div class="hljs"><pre><code class="hljs powershell"><span class="hljs-comment"># ps aux</span></code></pre></div>

<p>示例三：查看特定的进程</p>
<div class="hljs"><pre><code class="hljs powershell"><span class="hljs-comment"># ps aux | grep threadx</span></code></pre></div>

<h3 id="2-pstree"><a href="#2-pstree" class="headerlink" title="2. pstree"></a>2. pstree</h3><p>查看进程树<br>示例：查看所有进程树</p>
<div class="hljs"><pre><code class="hljs powershell"><span class="hljs-comment"># pstree -A</span></code></pre></div>

<h3 id="3-top"><a href="#3-top" class="headerlink" title="3. top"></a>3. top</h3><p>实时显示进程信息<br>示例：两秒钟刷新一次</p>
<div class="hljs"><pre><code class="hljs powershell"><span class="hljs-comment"># top -d 2</span></code></pre></div>

<h3 id="4-netstat"><a href="#4-netstat" class="headerlink" title="4. netstat"></a>4. netstat</h3><p>查看占用端口的进程<br>示例：查看特定端口的进程</p>
<div class="hljs"><pre><code class="hljs powershell"><span class="hljs-comment"># netstat -anp | grep port</span></code></pre></div>
<h2 id="进程状态"><a href="#进程状态" class="headerlink" title="进程状态 "></a>进程状态 <img src="https://img-blog.csdnimg.cn/20200818201750770.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3NzMzMg==,size_16,color_FFFFFF,t_70#pic_center" srcset="/img/loading.gif" alt="在这里插入图片描述"></h2><h2 id="孤儿进程"><a href="#孤儿进程" class="headerlink" title="孤儿进程"></a>孤儿进程</h2><p>一个父进程退出，而它的一个或多个子进程还在运行，那么这些子进程将成为孤儿进程。<br>孤儿进程将被 init 进程（进程号为 1）所收养，并由 init 进程对它们完成状态收集工作。<br>由于孤儿进程会被 init 进程收养，所以孤儿进程不会对系统造成危害。 </p>
<h2 id="僵尸进程"><a href="#僵尸进程" class="headerlink" title="僵尸进程"></a>僵尸进程</h2><p>一个子进程的进程描述符在子进程退出时不会释放，只有当父进程通过 wait() 或 waitpid() 获取了子进程信息后才会 释放。如果子进程退出，而父进程并没有调用 wait() 或 waitpid()，那么子进程的进程描述符仍然保存在系统中，这 种进程称之为僵尸进程。<br>僵尸进程通过 ps 命令显示出来的状态为 Z（zombie）。<br>系统所能使用的进程号是有限的，如果产生大量僵尸进程，将因为没有可用的进程号而导致系统不能产生新的进程。<br>要消灭系统中大量的僵尸进程，只需要将其父进程杀死，此时僵尸进程就会变成孤儿进程，从而被 init 进程所收养， 这样 init 进程就会释放所有的僵尸进程所占有的资源，从而结束僵尸进程。 </p>

            </article>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/Linux/">Linux</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/Linux/">Linux</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" target="_blank" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p>
              
              
                <div class="post-prevnext row">
                  <div class="post-prev col-6">
                    
                    
                      <a href="/2020/09/02/Spring-Security%E6%A0%B8%E5%BF%83-%E4%B8%80-%E6%A6%82%E8%BF%B0/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Spring Security核心(一)-概述</span>
                        <span class="visible-mobile">前の記事</span>
                      </a>
                    
                  </div>
                  <div class="post-next col-6">
                    
                    
                      <a href="/2020/08/18/MySQL%E4%BC%98%E5%8C%96/">
                        <span class="hidden-mobile">MySQL优化</span>
                        <span class="visible-mobile">次の記事</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </div>
                </div>
              
            </div>

            
              <!-- Comments -->
              <div class="comments" id="comments">
                
                
  <script defer src="https://utteranc.es/client.js"
          repo="gavin-yyj/commit-utterance"
          issue-term="pathname"
  
          theme="github-light"
          crossorigin="anonymous"
  >
  </script>


              </div>
            
          </div>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;ディレクトリ</p>
  <div id="tocbot"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    
  </main>

  
    <a id="scroll-top-button" href="#" role="button">
      <i class="iconfont icon-arrowup" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">検索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">キーワード</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  

  

  <footer class="mt-5">
  <div class="text-center py-3">
    <div>
      <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a>
      <i class="iconfont icon-love"></i>
      <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener">
        <span>Fluid</span></a>
    </div>
    

    

    
  </div>
</footer>

<!-- SCRIPTS -->
<script  src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/main.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>
  <script  src="/js/clipboard-use.js" ></script>







  <script  src="https://cdn.staticfile.org/tocbot/4.11.1/tocbot.min.js" ></script>
  <script>
    $(document).ready(function () {
      var boardCtn = $('#board-ctn');
      var boardTop = boardCtn.offset().top;

      tocbot.init({
        tocSelector: '#tocbot',
        contentSelector: '.post-content',
        headingSelector: 'h1,h2,h3,h4,h5,h6',
        linkClass: 'tocbot-link',
        activeLinkClass: 'tocbot-active-link',
        listClass: 'tocbot-list',
        isCollapsedClass: 'tocbot-is-collapsed',
        collapsibleClass: 'tocbot-is-collapsible',
        collapseDepth: 0,
        scrollSmooth: true,
        headingsOffset: -boardTop
      });
      if ($('.toc-list-item').length > 0) {
        $('#toc').css('visibility', 'visible');
      }
    });
  </script>



  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "Linux入门&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 70,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "hover",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      searchFunc(path, 'local-search-input', 'local-search-result');
      this.onclick = null
    }
  </script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />

  <script>
    $('#post img:not(.no-zoom img, img[no-zoom]), img[zoom]').each(
      function () {
        var element = document.createElement('a');
        $(element).attr('data-fancybox', 'images');
        $(element).attr('href', $(this).attr('src'));
        $(this).wrap(element);
      }
    );
  </script>







  
  
    <script type="text/javascript">
      //定义获取词语下标
      var a_idx = 0;
      jQuery(document).ready(function ($) {
        //点击body时触发事件
        $("body").click(function (e) {
          //需要显示的词语
          var a = new Array("富强", "民主", "文明", "和谐", "自由", "平等", "公正", "法治", "爱国", "敬业", "诚信", "友善");
          //设置词语给span标签
          var $i = $("<span/>").text(a[a_idx]);
          //下标等于原来下标+1  余 词语总数
          a_idx = (a_idx + 1) % a.length;
          //获取鼠标指针的位置，分别相对于文档的左和右边缘。
          //获取x和y的指针坐标
          var x = e.pageX, y = e.pageY;
          //在鼠标的指针的位置给$i定义的span标签添加css样式
          $i.css({
            "z-index": 999,
            "top": y - 20,
            "left": x,
            "position": "absolute",
            "font-weight": "bold",
            "color": rand_color()
          });
          // 随机颜色
          function rand_color() {
            return "rgb(" + ~~(255 * Math.random()) + "," + ~~(255 * Math.random()) + "," + ~~(255 * Math.random()) + ")"
          }
          //在body添加这个标签
          $("body").append($i);
          //animate() 方法执行 CSS 属性集的自定义动画。
          //该方法通过CSS样式将元素从一个状态改变为另一个状态。CSS属性值是逐渐改变的，这样就可以创建动画效果。
          //详情请看http://www.w3school.com.cn/jquery/effect_animate.asp
          $i.animate({
            //将原来的位置向上移动180
            "top": y - 180,
            "opacity": 0
            //1500动画的速度
          }, 1500, function () {
            //时间到了自动删除
            $i.remove();
          });
        });
      })
      ;
    </script>
  














</body>
</html>
